---
// Features Slider component - Interactive showcase of key features
---

<section id="funcionalidades" class="py-24 px-6 relative">
    <!-- Background decoration -->
    <div
        class="absolute inset-0 bg-gradient-to-br from-slate-800/40 to-slate-900/60"
    >
    </div>

    <!-- Grid pattern background -->
    <div
        class="absolute inset-0 opacity-5"
        style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 50px 50px;"
    >
    </div>

    <div class="max-w-6xl mx-auto relative z-10">
        <!-- Section title -->
        <div class="text-center mb-16">
            <h2
                class="text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"
            >
                Funcionalidades Clave
            </h2>
            <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                Descubre las características más importantes que hacen de
                WorkSchedFlow una solución completa
            </p>
        </div>

        <!-- Slider Container -->
        <div class="relative">
            <!-- Navigation buttons -->
            <button
                id="prevBtn"
                class="absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-slate-800/80 hover:bg-slate-700/80 rounded-full border border-slate-600/40 flex items-center justify-center text-white hover:text-emerald-400 transition-all duration-300 hover:scale-105 backdrop-blur-sm"
                aria-label="Anterior"
            >
                <svg
                    width="20"
                    height="20"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>

            <button
                id="nextBtn"
                class="absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-slate-800/80 hover:bg-slate-700/80 rounded-full border border-slate-600/40 flex items-center justify-center text-white hover:text-emerald-400 transition-all duration-300 hover:scale-105 backdrop-blur-sm"
                aria-label="Siguiente"
            >
                <svg
                    width="20"
                    height="20"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5l7 7-7 7"></path>
                </svg>
            </button>

            <!-- Slider wrapper -->
            <div class="overflow-hidden rounded-2xl">
                <div
                    id="slider"
                    class="flex transition-transform duration-500 ease-in-out"
                >
                    <!-- Feature Card 1 -->
                    <div class="min-w-full">
                        <div
                            class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden hover:border-emerald-500/30 transition-all duration-300"
                        >
                            <div
                                class="aspect-video bg-gradient-to-br from-emerald-600/20 to-blue-600/20 flex items-center justify-center relative overflow-hidden"
                            >
                                <!-- Feature illustration/icon -->
                                <div class="absolute inset-0 bg-slate-900/40">
                                </div>
                                <div class="relative z-10 p-8 text-center">
                                    <div
                                        class="w-24 h-24 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/30"
                                    >
                                        <svg
                                            width="48"
                                            height="48"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                            class="text-emerald-400"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <h4
                                        class="text-2xl font-bold text-white mb-2"
                                    >
                                        Control de Horas Reguladas
                                    </h4>
                                </div>
                            </div>
                            <div class="p-8">
                                <p
                                    class="text-gray-300 text-lg leading-relaxed mb-4"
                                >
                                    Sistema inteligente que deshabilita
                                    automáticamente las horas de fichaje que no
                                    cumplen con las regulaciones legislativas
                                    vigentes, evitando infracciones y
                                    garantizando el cumplimiento legal.
                                </p>
                                <div
                                    class="flex items-center text-emerald-400 text-sm font-medium"
                                >
                                    <svg
                                        width="16"
                                        height="16"
                                        fill="currentColor"
                                        class="mr-2"
                                    >
                                        <path
                                            d="M8 0C3.58 0 0 3.58 0 8c0 4.42 3.58 8 8 8 4.42 0 8-3.58 8-8 0-4.42-3.58-8-8-8zm3.707 6.707l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L7 8.586l3.293-3.293a1 1 0 111.414 1.414z"
                                        ></path>
                                    </svg>
                                    Cumplimiento Legal Automático
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Card 2 -->
                    <div class="min-w-full">
                        <div
                            class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden hover:border-blue-500/30 transition-all duration-300"
                        >
                            <div
                                class="aspect-video bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center relative overflow-hidden"
                            >
                                <div class="absolute inset-0 bg-slate-900/40">
                                </div>
                                <div class="relative z-10 p-8 text-center">
                                    <div
                                        class="w-24 h-24 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-blue-500/30"
                                    >
                                        <svg
                                            width="48"
                                            height="48"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                            class="text-blue-400"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <h4
                                        class="text-2xl font-bold text-white mb-2"
                                    >
                                        Reportes Automáticos
                                    </h4>
                                </div>
                            </div>
                            <div class="p-8">
                                <p
                                    class="text-gray-300 text-lg leading-relaxed mb-4"
                                >
                                    Generación automática de reportes detallados
                                    de asistencia, horas trabajadas y
                                    productividad. Exporta datos en múltiples
                                    formatos para presentaciones ejecutivas y
                                    análisis de RRHH.
                                </p>
                                <div
                                    class="flex items-center text-blue-400 text-sm font-medium"
                                >
                                    <svg
                                        width="16"
                                        height="16"
                                        fill="currentColor"
                                        class="mr-2"
                                    >
                                        <path
                                            d="M8 0C3.58 0 0 3.58 0 8c0 4.42 3.58 8 8 8 4.42 0 8-3.58 8-8 0-4.42-3.58-8-8-8zm3.707 6.707l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L7 8.586l3.293-3.293a1 1 0 111.414 1.414z"
                                        ></path>
                                    </svg>
                                    Datos Siempre Listos
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Card 3 -->
                    <div class="min-w-full">
                        <div
                            class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden hover:border-purple-500/30 transition-all duration-300"
                        >
                            <div
                                class="aspect-video bg-gradient-to-br from-purple-600/20 to-pink-600/20 flex items-center justify-center relative overflow-hidden"
                            >
                                <div class="absolute inset-0 bg-slate-900/40">
                                </div>
                                <div class="relative z-10 p-8 text-center">
                                    <div
                                        class="w-24 h-24 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-purple-500/30"
                                    >
                                        <svg
                                            width="48"
                                            height="48"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                            class="text-purple-400"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <h4
                                        class="text-2xl font-bold text-white mb-2"
                                    >
                                        Gestión de Equipos
                                    </h4>
                                </div>
                            </div>
                            <div class="p-8">
                                <p
                                    class="text-gray-300 text-lg leading-relaxed mb-4"
                                >
                                    Administra múltiples equipos de trabajo con
                                    diferentes horarios, permisos y roles.
                                    Asigna supervisores, configura jerarquías y
                                    mantén el control total sobre la estructura
                                    organizacional.
                                </p>
                                <div
                                    class="flex items-center text-purple-400 text-sm font-medium"
                                >
                                    <svg
                                        width="16"
                                        height="16"
                                        fill="currentColor"
                                        class="mr-2"
                                    >
                                        <path
                                            d="M8 0C3.58 0 0 3.58 0 8c0 4.42 3.58 8 8 8 4.42 0 8-3.58 8-8 0-4.42-3.58-8-8-8zm3.707 6.707l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L7 8.586l3.293-3.293a1 1 0 111.414 1.414z"
                                        ></path>
                                    </svg>
                                    Organización Eficiente
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Card 4 -->
                    <div class="min-w-full">
                        <div
                            class="bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 rounded-2xl overflow-hidden hover:border-orange-500/30 transition-all duration-300"
                        >
                            <div
                                class="aspect-video bg-gradient-to-br from-orange-600/20 to-red-600/20 flex items-center justify-center relative overflow-hidden"
                            >
                                <div class="absolute inset-0 bg-slate-900/40">
                                </div>
                                <div class="relative z-10 p-8 text-center">
                                    <div
                                        class="w-24 h-24 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-orange-500/30"
                                    >
                                        <svg
                                            width="48"
                                            height="48"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                            class="text-orange-400"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M15 17h5l-5 5v-5zM4.828 7l10.586 10.586c.781.781 2.047.781 2.828 0l1.414-1.414c.781-.781.781-2.047 0-2.828L9.242 3.828c-.781-.781-2.047-.781-2.828 0L4.828 5.414c-.781.781-.781 2.047 0 2.828z"
                                            ></path>
                                        </svg>
                                    </div>
                                    <h4
                                        class="text-2xl font-bold text-white mb-2"
                                    >
                                        Alertas Inteligentes
                                    </h4>
                                </div>
                            </div>
                            <div class="p-8">
                                <p
                                    class="text-gray-300 text-lg leading-relaxed mb-4"
                                >
                                    Recibe notificaciones automáticas sobre
                                    ausencias, retrasos, horas extra no
                                    autorizadas y patrones anómalos. El sistema
                                    aprende y se adapta para mejorar la
                                    precisión de las alertas.
                                </p>
                                <div
                                    class="flex items-center text-orange-400 text-sm font-medium"
                                >
                                    <svg
                                        width="16"
                                        height="16"
                                        fill="currentColor"
                                        class="mr-2"
                                    >
                                        <path
                                            d="M8 0C3.58 0 0 3.58 0 8c0 4.42 3.58 8 8 8 4.42 0 8-3.58 8-8 0-4.42-3.58-8-8-8zm3.707 6.707l-4 4a1 1 0 01-1.414 0l-2-2a1 1 0 111.414-1.414L7 8.586l3.293-3.293a1 1 0 111.414 1.414z"
                                        ></path>
                                    </svg>
                                    Prevención Proactiva
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slider indicators -->
            <div class="flex justify-center mt-8 space-x-2">
                <button
                    class="indicator w-3 h-3 rounded-full bg-emerald-500 transition-all duration-300"
                    data-slide="0"></button>
                <button
                    class="indicator w-3 h-3 rounded-full bg-slate-600 hover:bg-slate-500 transition-all duration-300"
                    data-slide="1"></button>
                <button
                    class="indicator w-3 h-3 rounded-full bg-slate-600 hover:bg-slate-500 transition-all duration-300"
                    data-slide="2"></button>
                <button
                    class="indicator w-3 h-3 rounded-full bg-slate-600 hover:bg-slate-500 transition-all duration-300"
                    data-slide="3"></button>
            </div>
        </div>
    </div>
</section>

<script>
    // Slider functionality
    const slider = document.getElementById("slider");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const indicators = document.querySelectorAll(".indicator");

    // Early return if required elements are not found
    if (!slider || !prevBtn || !nextBtn) {
        console.warn("FeaturesSlider: Required DOM elements not found");
        return;
    }

    let currentSlide = 0;
    const totalSlides = 4;

    function updateSlider() {
        if (!slider) return;

        slider.style.transform = `translateX(-${currentSlide * 100}%)`;

        // Update indicators
        indicators.forEach((indicator, index) => {
            if (index === currentSlide) {
                indicator.classList.remove("bg-slate-600");
                indicator.classList.add("bg-emerald-500");
            } else {
                indicator.classList.remove("bg-emerald-500");
                indicator.classList.add("bg-slate-600");
            }
        });
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateSlider();
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateSlider();
    }

    // Event listeners
    if (nextBtn) {
        nextBtn.addEventListener("click", nextSlide);
    }

    if (prevBtn) {
        prevBtn.addEventListener("click", prevSlide);
    }

    // Indicator clicks
    indicators.forEach((indicator, index) => {
        indicator.addEventListener("click", () => {
            currentSlide = index;
            updateSlider();
        });
    });

    // Auto-slide every 5 seconds
    setInterval(nextSlide, 5000);

    // Touch/swipe support
    let startX = 0;
    let isDragging = false;

    if (slider) {
        slider.addEventListener("touchstart", (e) => {
            startX = e.touches[0].clientX;
            isDragging = true;
        });

        slider.addEventListener("touchmove", (e) => {
            if (!isDragging) return;
            e.preventDefault();
        });

        slider.addEventListener("touchend", (e) => {
            if (!isDragging) return;

            const endX = e.changedTouches[0].clientX;
            const diff = startX - endX;

            if (Math.abs(diff) > 50) {
                // Minimum swipe distance
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }

            isDragging = false;
        });
    }
</script>

<style>
    .indicator {
        cursor: pointer;
    }

    .indicator:hover {
        transform: scale(1.2);
    }
</style>
